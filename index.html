<!DOCTYPE html>
<html>
<head>
	<title>Northwick Park Neck Pain Score Calculator</title>
	<style>
		@font-face{
			font-family: 'Source Code Pro';
			font-weight: 300;
			font-style: normal;
			font-stretch: normal;
			src: url('./WOFF2/TTF/SourceCodePro-Light.ttf.woff2') format('woff2'),
				url('./WOFF/OTF/SourceCodePro-Light.otf.woff') format('woff'),
				url('./OTF/SourceCodePro-Light.otf') format('opentype'),
				url('./TTF/SourceCodePro-Light.ttf') format('truetype');
		}
		/*
		body {
			margin: 0;
		}

		div {
			width: 100vw;
			height: 100vh;
		}
		*/

		html {
        background-color: rgb(208, 219, 233);
      	}

		h1 {
			text-align: center;
			margin-top: 20px;
			margin-bottom: 20px;
			font-size: 45px;
	
		}

		h2 {
			margin-top: 20px;
			margin-bottom: 20px;
			text-align: center;
			font-size: 25px;
		}

		body {
			margin: 0;
			padding: 0;
		}


		form {
			margin: 10px;
			max-width: auto;
			padding: 20px;
			border: 1px solid #ccc;
			border-radius: 5px;
			font-size: 30px;
			background-color: rgb(224, 233, 246);
			line-height: 1.5;
		}

		input {
			font-size: 30px;
		}

		p {
			margin-top: 10px;
			margin-bottom: 10px;
		}

		input[type="radio"] {
			margin-right: 10px;
			margin-left: 15px;
			transform: scale(1.5);
		}

		input[type="radio"]:last-child {
			margin-right: 0;
		}

		button {
			background-color: rgb(0, 145, 255);
			color: white;
			border: none;
			border-radius: 25px;
			cursor: pointer;
			font-size: 30px;
			display: block;
			margin: 0 auto;
		}

		button[type="button"]:hover {
			background-color: rgb(100, 182, 245);
		}

		input[type="reset"] {
			background-color: rgb(61, 120, 165);
			color: white;
			border: none;
			border-radius: 25px;
			cursor: pointer;
			font-size: 30px;
			display: block;
			margin: 0 auto;
			padding: 20px 33px;
			margin-right: 0px;
		}

		input[type="reset"]:hover {
			background-color: rgb(86, 146, 193);
		}

		.button-container {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-top: 16px;
		}

		.btn-primary {
			/* padding: 23px 33px; */
			padding: 20px 33px;
			margin-left: 40px;
		}

        .increase-font-size-btn {
			position: absolute;
			top: 10px;
			right: 10px;
			padding: 11px 12px;
			background-color: white;
			color: black;
			border-radius: 20px;
        }

		.decrease-font-size-btn{
			position: absolute;
			top: 10px;
			right: 59px;
			padding: 17px 17px;
			background-color: white;
			color: black;
			border-radius: 20px;
			font-size: 20px;
        }

		.button {
			display: inline-block;
		}

		
		#result {
			margin-top: 20px;
			font-size: 30px;
			font-weight: bold;
			text-align: center;
		}

		#popup {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background-color: rgb(232, 232, 176);
			border-radius: 15px;
			border: 1px solid black;
			padding: 20px;
			display: none;
			font-size: 30px;
			text-align: center;
			max-width: 100%;
			width: 70%;
 		 	max-height: 80%;
  			overflow: auto;
		}

		.popup-content {
			display: flex;
			flex-direction: column;
			align-items: center;
		}

		.popup-message {
			margin-bottom: 10px;
			font-weight: bold;
		}

		.popup-button {
			margin-top: 10px;
			padding: 9px 15px;
			border-radius: 13px;
		}
	


        /* for design for mobile version*/
		form {
			font-size: 60px;
            line-height: 2;
        }
        legend {
            font-size: 70px;
        }
        h1{
            font-size: 80px;
        }
        h2{
            font-size: 60px;
        }
        input[type="radio"] {
            margin-right: 20px;
            margin-left: 15px;
            transform :scale(4);
        }
        button {
            transform: scale(3);
        }
        .increase-font-size-btn {
			transform: scale(2);
            margin-top: 20px;
            margin-right: 20px;
        }

		.decrease-font-size-btn{
			transform: scale(2);
            margin-right: 65px;
            margin-top: 20px;
        }
        #result {
            margin-top: 40px;
            font-size: 60px;
            font-weight: bold;
        }

        input[type="reset"] {
			transform: scale(2);
		}
		.btn-primary {
			transform: scale(2);
            margin-left: 200px;

		}
        #popup {
            width: 80%;
        }
        .popup-button {
			margin-top: 10px;
			padding: 9px 15px;
			border-radius: 13px;
            transform: scale(2);
            margin-bottom: 40px;
		}
        .popup-message {
			font-size: 60px;
            line-height: 2;
		}


	</style>
	<script type="text/javascript">
        function showPopup(message) {
			var popup = document.getElementById("popup");
			var messageElement = popup.querySelector(".popup-message");
			messageElement.innerHTML = message;
			popup.style.display = "block";
			return popup;
		}

		function hidePopup(popup) {
			popup.style.display = "none";
		}

		function calculateQuickDASH(event) {
            event.preventDefault(); // Prevent form submission
            
			var values = document.getElementsByClassName("score");
			var totalScore = 0;
			var totalQuestions = 0;
			for(var i = 0; i < values.length; i++) {
				if(values[i].checked) {
					totalScore += parseFloat(values[i].value);
					totalQuestions++;
				}
			}

            var question9 = document.getElementsByName("section9");
            var question9true = 0;

            for(var i = 0; i < question9.length; i++) {
				if(question9[i].checked) {
					question9true = 1;
				}
			}


            if (totalQuestions >=9){
                var quickDASHscore = (totalScore/(totalQuestions*4))*100;
                if (totalQuestions == 8){
                    document.getElementById("result").innerHTML = "非常感謝您完成了這份調查中所有的問題<br><br>請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/32 = " + Math.round(quickDASHscore) + "/100";
                    var popup = showPopup("非常感謝您完成了這份調查中所有的問題<br><br>請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/32 = " + Math.round(quickDASHscore) + "/100");
                } else if (totalQuestions == 9){
                    document.getElementById("result").innerHTML = "非常感謝您完成了這份調查中所有的問題<br><br>請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/36 = " + Math.round(quickDASHscore) + "/100";
                    var popup = showPopup("非常感謝您完成了這份調查中所有的問題<br><br>請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/36 = " + Math.round(quickDASHscore) + "/100");
                } 
            } else if (totalQuestions == 8 && question9true == 0){
                var quickDASHscore = (totalScore/(totalQuestions*4))*100;
                if (totalQuestions == 8){
                    document.getElementById("result").innerHTML = "非常感謝您完成了這份調查中所有的問題<br><br>請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/32 = " + Math.round(quickDASHscore) + "%";
                    var popup = showPopup("非常感謝您完成了這份調查中所有的問題<br><br>請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/32 = " + Math.round(quickDASHscore) + "%");
                } else if (totalQuestions == 9){
                    document.getElementById("result").innerHTML = "非常感謝您完成了這份調查中所有的問題<br><br>請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/36 = " + Math.round(quickDASHscore) + "%";
                    var popup = showPopup("非常感謝您完成了這份調查中所有的問題<br><br>請請勿關閉此頁面，並將你的分數寫在卡上，然後交給物理治療師。<br><br> 你的分數是: " + totalScore + "/36 = " + Math.round(quickDASHscore) + "%");
                } 
            } else if (question9true == 1){
                document.getElementById("result").innerHTML = "你尚有" + (9 - totalQuestions)+ "條問題未回答<br>";
				var popup = showPopup("你尚有" + (9 - totalQuestions)+ "條問題未回答。<br>請返回並繼續作答。");
            } else {
                document.getElementById("result").innerHTML = "你尚有" + (8 - totalQuestions)+ "條問題未回答<br>";
				var popup = showPopup("你尚有" + (8 - totalQuestions)+ "條問題未回答。<br>請返回並繼續作答。");
            }
            
            var okButton = popup.querySelector(".popup-button");
			okButton.addEventListener("click", function() {
				hidePopup(popup);
			});
        
		}

        function resetContent() {
    		document.getElementById("result").innerHTML = "";
		}

	</script>
</head>
<body>
    <br><br><br><br><br>
	<h1> 頸痛問卷 </h1>
    <button class = "increase-font-size-btn" id="increase-font-button">大
    </button>

    <script>
       // get the button element by its ID
		var button = document.getElementById("increase-font-button");

		// add an event listener to the button that increases the font size of all elements
		button.addEventListener("click", function() {
		// get all elements on the page
		var elements = document.getElementsByTagName("*");

		// loop through each element and increase its font size
		for (var i = 0; i < elements.length; i++) {
			var element = elements[i];
			var tagName = element.tagName.toLowerCase();
			var fontSize = window.getComputedStyle(element).getPropertyValue("font-size");
			var newFontSize = parseFloat(fontSize) * 1.1;

			// increase font size of text inputs, radio buttons, and labels
			if ((tagName == "input" && element.type == "text") || (element.type == "radio")) {
			element.style.fontSize = newFontSize + "px";
			element.style.width = newFontSize - 15 + "px"; // added line to make radio buttons bigger
			element.style.height = newFontSize - 15 + "px"; // added line to make radio buttons bigger
			} else if (tagName == "label") {
			element.style.fontSize = newFontSize + "px";
			} else {
			element.style.fontSize = newFontSize + "px";
			}
		}
		});


    </script>
	<button class = "decrease-font-size-btn" id="decrease-font-button">小
    </button>

    <script>
       // get the button element by its ID
		var button = document.getElementById("decrease-font-button");

		// add an event listener to the button that decreases the font size of all elements
		button.addEventListener("click", function() {
			// get all elements on the page
			var elements = document.getElementsByTagName("*");

			// loop through each element and decrease its font size
			for (var i = 0; i < elements.length; i++) {
				var element = elements[i];
				var tagName = element.tagName.toLowerCase();
				var fontSize = window.getComputedStyle(element).getPropertyValue("font-size");
				var newFontSize = parseFloat(fontSize) * 0.9;

				// decrease font size of text inputs, radio buttons, and labels
				if ((tagName == "input" && element.type == "text") || (element.type == "radio")) {
					element.style.fontSize = newFontSize + "px";
					element.style.width = newFontSize - 15 + "px"; // added line to make radio buttons smaller
					element.style.height = newFontSize - 15 + "px"; // added line to make radio buttons smaller
				} else if (tagName == "label") {
					element.style.fontSize = newFontSize + "px";
				} else {
					element.style.fontSize = newFontSize + "px";
				}
			}
		});

    </script>



	<h2> 威爾斯親王醫院 物理治療部</h2>
	<form>
		<p>我們設計本問卷的目的，是了解頸痛如何影響你應付日常生活的能力。</p>

		<p>請回答每一個部分的問題，並在一個適用的選項內標示你的答案。你也許會發現在同一部分內有兩種描述都適用於你，
            但請你也只選擇一個選項，而這答案必須最貼切地描述你的問題。</p>

        <p>請記住：你只需在每個部分選擇一個選項。</p>

        <br>
			<strong>1 現在頸痛的程度</strong>
            <br>
			<input type="radio" name="section1" value="0" class="score"> 沒有頸痛
            <br>
			<input type="radio" name="section1" value="1" class="score"> 溫和
            <br>
			<input type="radio" name="section1" value="2" class="score"> 中等
            <br>
			<input type="radio" name="section1" value="3" class="score"> 很厲害
            <br>
			<input type="radio" name="section1" value="4" class="score"> 簡直不可想像
			<br><br><p><strong>2 頸痛與睡眠</strong></p>
			<input type="radio" name="section2" value="0" class="score"> 頸痛從不干擾我睡眠
            <br>
			<input type="radio" name="section2" value="1" class="score"> 頸痛有時會干擾我睡眠
            <br>
			<input type="radio" name="section2" value="2" class="score"> 頸痛經常會干擾我睡眠
            <br>
			<input type="radio" name="section2" value="3" class="score"> 頸痛使我每晚的睡眠時間少過五小時
            <br>
            <input type="radio" name="section2" value="4" class="score"> 頸痛使我每晚的睡眠時間少過兩小時
			<br><br><p><strong>3 手臂在夜晚感到發麻或針刺般的情況</strong></p>
			<input type="radio" name="section3" value="0" class="score"> 我在夜晚並不感到手臂發麻或有針刺般的感覺
            <br>
			<input type="radio" name="section3" value="1" class="score"> 我有時會在夜晚覺得手臂發麻或有針刺般的感覺
            <br>
			<input type="radio" name="section3" value="2" class="score"> 手臂在夜晚發麻或針刺般的感覺，經常打擾我睡眠
            <br>
			<input type="radio" name="section3" value="3" class="score"> 手臂在夜脕發麻或針刺般的感覺，使我每晚的睡眠時間少過五小時
            <br>
			<input type="radio" name="section3" value="4" class="score"> 我的手臂發麻或針刺般的感覺，使我每脕的睡眠時間少於兩小時
			<br><br><p><strong>4 每天症狀持續的時間</strong></p>
			<input type="radio" name="section4" value="0" class="score"> 我的頸部和手臂整天都覺得正常
            <br>
			<input type="radio" name="section4" value="1" class="score"> 我起床時會覺得頸部和手臂有不適的症狀，但不超過一小時
            <br>
			<input type="radio" name="section4" value="2" class="score"> 頸部和手臂不適的症狀時有時無，總共持續一至四小時
            <br>
			<input type="radio" name="section4" value="3" class="score"> 頸部和手臂不適的症狀時有時無，總共持續超過四小時
            <br>
			<input type="radio" name="section4" value="4" class="score"> 頸部和手臂不適的症狀持續不斷，整天都有
			<br><br><p><strong>5 攜帶物件</strong></p>
			<input type="radio" name="section5" value="0" class="score"> 我可攜帶重物(5公斤或以上)而不感到額外的痛楚
            <br>
			<input type="radio" name="section5" value="1" class="score"> 我可攜帶重物(5公斤或以上)，但這令我感到額外的痛楚
            <br>
			<input type="radio" name="section5" value="2" class="score"> 痛楚令我不能攜帶重物，但若物件的重量中等(約2-3公斤)，我便可以應付
            <br>
			<input type="radio" name="section5" value="3" class="score"> 我只可以拿起輕的物件(2公斤以下)
            <br>
			<input type="radio" name="section5" value="4" class="score"> 我甚麼東西都拿不起來
			<br><br><p><strong>6 閱讀及看電視</strong></p>
			<input type="radio" name="section6" value="0" class="score"> 多久都可以，沒有任何困難
            <br>
			<input type="radio" name="section6" value="1" class="score"> 如果我的姿勢適當，多久都可以
            <br>
			<input type="radio" name="section6" value="2" class="score"> 多久都可以，但會產生額外的痛楚
            <br>
			<input type="radio" name="section6" value="3" class="score"> 痛楚使我不願意地提早結束這些活動
            <br>
			<input type="radio" name="section6" value="4" class="score"> 痛楚使我根本無法閱讀及看電視
			<br><br><p><strong>7 工作、家務之類</strong></p>
			<input type="radio" name="section7" value="0" class="score"> 我可做平時的工作而不感到額外的痛楚
            <br>
			<input type="radio" name="section7" value="1" class="score"> 我可做平時的工作，但這使我感到額外的痛楚
            <br>
			<input type="radio" name="section7" value="2" class="score"> 痛楚使我只能做平時工作量的一半或以下
            <br>
			<input type="radio" name="section7" value="3" class="score"> 痛楚使我只能做平時工作量的四分之一或以下
            <br>
			<input type="radio" name="section7" value="4" class="score"> 痛楚使我根本無法工作
			<br><br><p><strong>8 社交活動</strong></p>
			<input type="radio" name="section8" value="0" class="score"> 我的社交生活正常，並不導致額外的痛楚
            <br>
			<input type="radio" name="section8" value="1" class="score"> 我的社交生活正常，但會增加痛的程度
            <br>
			<input type="radio" name="section8" value="2" class="score"> 頸痛規限了我的社交生活，但我仍可外出活動
            <br>
			<input type="radio" name="section8" value="3" class="score"> 頸痛使我的社交生活只能限於居所之內
            <br>
			<input type="radio" name="section8" value="4" class="score"> 頸痛使我沒有社交生活
            <br><br><p><strong>9 駕駛</strong>(如果你連健康時也不駕駛的話，不必回答本題)</p>
			<input type="radio" name="section9" value="0" class="score"> 我有需要便可以駕駛，不會感到不適
            <br>
			<input type="radio" name="section9" value="1" class="score"> 我有需要便可以駕駛，但會感到不適
            <br>
			<input type="radio" name="section9" value="2" class="score"> 頸部的痛楚或僵直情況有時會限制我駕駛
            <br>
			<input type="radio" name="section9" value="3" class="score"> 頸部的痛楚或僵直情況經常限制我駕駛
            <br>
			<input type="radio" name="section9" value="4" class="score"> 頸痛症狀使我根本無法駕駛
			<br>
		<br>
		<div id="result"></div>
		<br>
		<div class="button-container">
			<input type="reset" value="重設" onclick="resetContent()"> 
			<button type="button" class="btn-primary" onclick="calculateQuickDASH(event)">提交</button>
		</div>
		<br>
		<div class="centered-text">
		  <h1>謝謝您完成問卷</h1>
		</div>
	</form>
	<div id="popup">
		<div class="popup-content">
		  <div class="popup-message"></div>
		  <button class="popup-button">確定</button>
		</div>
	</div>
	<br><br><br><br><br><br><br><br><br><br>
</body>
</html>
